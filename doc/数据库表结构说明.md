# æ¤ç‰©æ•°æ®åº“è¡¨ç»“æ„è¯´æ˜

## ğŸ“Š plants è¡¨å­—æ®µåˆ—è¡¨

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|:---|:---|:---|:---|
| `id` | INT | ä¸»é”®ID,è‡ªåŠ¨é€’å¢ | 1, 2, 3... |
| `chinese_name` | VARCHAR(100) | ä¸­æ–‡å (å¿…å¡«) | é“¶æã€ç«ç‘°ã€ç‰¡ä¸¹ |
| `scientific_name` | VARCHAR(200) | å­¦å | Ginkgo biloba, Rosa chinensis |
| `english_name` | VARCHAR(100) | è‹±æ–‡å | Ginkgo, Rose |
| `alias` | TEXT | åˆ«å (JSONæ•°ç»„æ ¼å¼) | ["ç™½æœæ ‘","å…¬å­™æ ‘"] |
| `family` | VARCHAR(100) | ç§‘ | é“¶æç§‘ã€è”·è–‡ç§‘ |
| `genus` | VARCHAR(100) | å± | é“¶æå±ã€è”·è–‡å± |
| `description` | TEXT | ç®€ä»‹/æè¿° | æ¤ç‰©çš„åŸºæœ¬ä»‹ç» |
| `morphology` | TEXT | å½¢æ€ç‰¹å¾ | å¶ç‰‡å½¢çŠ¶ã€èŠ±æœµç‰¹å¾ç­‰ |
| `habitat` | TEXT | ç”Ÿé•¿ç¯å¢ƒ | å–œé˜³ã€è€å¯’ã€é€‚å®œæ¸©åº¦ç­‰ |
| `distribution` | TEXT | åˆ†å¸ƒåœ°åŒº | ä¸­å›½ã€æ—¥æœ¬ã€æ¬§æ´²ç­‰ |
| `flowering_period` | VARCHAR(50) | èŠ±æœŸ | 3-5æœˆã€æ˜¥å­£ |
| `image_url` | VARCHAR(500) | å›¾ç‰‡é“¾æ¥ | https://... |
| `created_at` | TIMESTAMP | åˆ›å»ºæ—¶é—´ | è‡ªåŠ¨ç”Ÿæˆ |
| `updated_at` | TIMESTAMP | æ›´æ–°æ—¶é—´ | è‡ªåŠ¨æ›´æ–° |

---

## ğŸ” ç´¢å¼•è¯´æ˜

### æ™®é€šç´¢å¼•
- `idx_chinese_name`: ä¸­æ–‡åç´¢å¼•,ç”¨äºå¿«é€ŸæŸ¥æ‰¾
- `idx_scientific_name`: å­¦åç´¢å¼•
- `idx_family`: ç§‘ç´¢å¼•,ç”¨äºåˆ†ç±»æŸ¥è¯¢

### å…¨æ–‡ç´¢å¼•
- `ft_search`: å…¨æ–‡æœç´¢ç´¢å¼•,æ”¯æŒä¸­æ–‡æœç´¢ (chinese_name + description)
- ä½¿ç”¨ ngram è§£æå™¨,æ”¯æŒä¸­æ–‡åˆ†è¯

---

## ğŸ“ æ‰©å±•å­—æ®µ (import_china_plants.js æ·»åŠ )

ä»¥ä¸‹å­—æ®µç”± `scripts/import_china_plants.js` è„šæœ¬è‡ªåŠ¨æ·»åŠ :

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|:---|:---|:---|
| `distribution` | TEXT | åˆ†å¸ƒåœ°åŒº |
| `altitude` | VARCHAR(100) | æµ·æ‹”èŒƒå›´ |
| `iucn_status` | VARCHAR(50) | IUCNæ¿’å±ç­‰çº§ |
| `endemic_to_china` | BOOLEAN | æ˜¯å¦ä¸­å›½ç‰¹æœ‰ |
| `plant_group` | VARCHAR(50) | æ¤ç‰©ç±»ç¾¤ |
| `data_source` | VARCHAR(50) | æ•°æ®æ¥æº |

---

## ğŸ’¾ å½“å‰å¯ç”¨æ•°æ®

### 1. ä¸­å›½æ¤ç‰©åå½•æ•°æ®
- **æ–‡ä»¶**: `data/cnplants_converted.json`
- **æ•°é‡**: 49,479 æ¡
- **æ¥æº**: helixcn/plantlist_data
- **å¯¼å…¥è„šæœ¬**: `scripts/import_china_plants.js`

### 2. åˆå§‹æ¤ç‰©æ•°æ®
- **æ–‡ä»¶**: `data/plants_initial.json`
- **å¯¼å…¥è„šæœ¬**: `scripts/import_plants.js`

### 3. Kaggleæ¤ç‰©æ•°æ® (å¾…ä¸‹è½½)
- **æ–‡ä»¶**: `data/plants.json`
- **å¯¼å…¥è„šæœ¬**: `scripts/import_kaggle_plants.js`

---

## ğŸš€ å¯¼å…¥æ•°æ®å‘½ä»¤

### å¯¼å…¥ä¸­å›½æ¤ç‰©åå½• (æ¨è)
```bash
cd g:\work\zhiwuzhushou-master
node scripts/import_china_plants.js
```

**ç‰¹ç‚¹**:
- âœ… è‡ªåŠ¨æ£€æµ‹å¹¶æ‰©å±•è¡¨ç»“æ„
- âœ… è·³è¿‡é‡å¤æ•°æ®
- âœ… æ‰¹é‡æ’å…¥,æ€§èƒ½ä¼˜åŒ–
- âœ… è‡ªåŠ¨åˆ›å»ºç´¢å¼•
- âœ… æ˜¾ç¤ºå¯¼å…¥ç»Ÿè®¡

### å¯¼å…¥åˆå§‹æ•°æ®
```bash
node scripts/import_plants.js
```

### å¯¼å…¥Kaggleæ•°æ®
```bash
# å…ˆä»Kaggleä¸‹è½½ plants.json åˆ° data ç›®å½•
node scripts/import_kaggle_plants.js
```

---

## ğŸ“‹ æ•°æ®ç¤ºä¾‹

### å®Œæ•´æ•°æ®ç¤ºä¾‹
```json
{
  "id": 1,
  "chinese_name": "é“¶æ",
  "scientific_name": "Ginkgo biloba",
  "english_name": "Ginkgo",
  "alias": "[\"ç™½æœæ ‘\",\"å…¬å­™æ ‘\"]",
  "family": "é“¶æç§‘",
  "genus": "é“¶æå±",
  "description": "é“¶ææ˜¯é“¶æç§‘ã€é“¶æå±æ¤ç‰©ã€‚é“¶æä¸ºè½å¶å¤§ä¹”æœ¨,èƒ¸å¾„å¯è¾¾4ç±³...",
  "morphology": "å¶æ‰‡å½¢,æœ‰é•¿æŸ„,æ·¡ç»¿è‰²,æ— æ¯›...",
  "habitat": "ç”Ÿäºæµ·æ‹”500-1000ç±³ã€é…¸æ€§(pHå€¼5-5.5)é»„å£¤ã€æ’æ°´è‰¯å¥½åœ°å¸¦çš„å¤©ç„¶æ—ä¸­...",
  "distribution": "ä¸­å›½æµ™æ±Ÿå¤©ç›®å±±",
  "flowering_period": "3-4æœˆ",
  "image_url": "https://example.com/ginkgo.jpg",
  "altitude": "500-1000m",
  "iucn_status": "EN",
  "endemic_to_china": true,
  "plant_group": "è£¸å­æ¤ç‰©",
  "data_source": "plantlist"
}
```

---

## ğŸ”§ æ•°æ®åº“è¿æ¥é…ç½®

å¯¼å…¥è„šæœ¬ä½¿ç”¨çš„é»˜è®¤é…ç½®:
```javascript
{
    host: 'localhost',
    user: 'root',
    password: 'root',
    database: 'plant_assistant',
    charset: 'utf8mb4'
}
```

å¦‚éœ€ä¿®æ”¹,è¯·ç¼–è¾‘å¯¹åº”çš„å¯¼å…¥è„šæœ¬æ–‡ä»¶ã€‚

---

**æœ€åæ›´æ–°**: 2026-02-06
